{
  "uuid": "9a6cd570-f6fe-4327-823e-b3c923127c73",
  "name": "JPA Sessions",
  "description": "",
  "extraSearchTerms": [],
  "tags": [],
  "code": "public class Sessions {\n\n    private static final String PERSISTENT_UNIT_NAME \u003d \"persistenceUnit\";\n\n    private static EntityManagerFactory emf;\n\n    /**\n     * Reads database connection properties for current enviroment.\n     *\n     * @return Map with additional EMF properties\n     */\n    protected static Map\u003cString, String\u003e readEnvProperties() {\n        Map\u003cString, String\u003e properties \u003d new HashMap\u003cString, String\u003e();\n        String connectionUrl \u003d System.getenv(\"HIBERNATE_CONNECTION_URL\");\n        if (connectionUrl !\u003d null)\n            properties.put(\"hibernate.connection.url\", connectionUrl);\n        String username \u003d System.getenv(\"HIBERNATE_USERNAME\");\n        if (username !\u003d null)\n            properties.put(\"hibernate.connection.username\", username);\n        String password \u003d System.getenv(\"HIBERNATE_PASSWORD\");\n        if (password !\u003d null)\n            properties.put(\"hibernate.connection.password\", password);\n        return properties;\n    }\n\n    protected static EntityManagerFactory createEntityManagerFactory() {\n        EntityManagerFactory emf;\n        Map\u003cString, String\u003e properties \u003d readEnvProperties();\n        emf \u003d Persistence.createEntityManagerFactory(PERSISTENT_UNIT_NAME, properties);\n        //loadRuntimeProperties(emf);\n        return emf;\n    }\n\n    public static EntityManager getEntityManager() {\n        if (emf \u003d\u003d null)\n            emf \u003d createEntityManagerFactory();\n        return emf.createEntityManager();\n    }\n}",
  "location": "FILE",
  "filenameRestrictions": [],
  "dependencies": []
}